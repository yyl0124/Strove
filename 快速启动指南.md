# 🚀 Strove AI 快速启动指南

## ✅ 前后端对接状态：已修复

**最后更新**: 2025-12-25 10:31  
**修复内容**: API Base URL配置错误  
**当前状态**: ✅ 可以正常运行

---

## 📋 环境要求

### 后端
- ✅ JDK 21
- ✅ MySQL 8.0+
- ✅ Maven 3.6+

### 前端
- ✅ Node.js 16+
- ✅ npm 8+

---

## 🔧 启动步骤

### 1️⃣ 启动数据库

```bash
# 启动MySQL服务
# Windows: 服务管理器启动 MySQL80
# Mac/Linux: sudo service mysql start

# 创建数据库
mysql -u root -p
```

```sql
CREATE DATABASE IF NOT EXISTS strove_db 
CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;
```

### 2️⃣ 启动后端服务

```bash
# 进入项目根目录
cd e:\PROJECT\strove

# 清理并编译
mvn clean install

# 启动服务
mvn spring-boot:run
```

**验证后端启动成功**:
- 浏览器访问: http://localhost:8123/api/health
- 预期响应:
```json
{
  "success": true,
  "data": {
    "status": "UP",
    "timestamp": "2025-12-25T10:31:00",
    "service": "Strove AI Writing Assistant",
    "version": "1.0.0-MVP"
  }
}
```

### 3️⃣ 启动前端服务

```bash
# 打开新终端，进入前端目录
cd e:\PROJECT\strove\frontend

# 安装依赖（首次运行）
npm install

# 启动开发服务器
npm run dev
```

**验证前端启动成功**:
- 浏览器自动打开: http://localhost:5173
- 看到登录页面的"Neumorphism"设计风格

---

## 🎯 功能测试流程

### Step 1: 测试注册功能

1. 访问 http://localhost:5173
2. 点击 "Create Account" 链接
3. 填写表单:
   - Username: `testuser`
   - Email: `test@example.com`
   - Password: `password123`
   - Confirm Password: `password123`
4. 点击 "Sign Up"
5. **预期结果**: 
   - ✅ 自动跳转到Dashboard
   - ✅ 右上角显示用户名
   - ✅ 看到欢迎消息

### Step 2: 测试登录功能

1. 点击右上角退出按钮
2. 填写登录表单:
   - Username or Email: `testuser` 或 `test@example.com`
   - Password: `password123`
3. 点击 "Sign In"
4. **预期结果**:
   - ✅ 成功登录并跳转到Dashboard

### Step 3: 测试主题切换

1. 在Dashboard页面
2. 点击右上角的 **太阳/月亮图标**
3. **预期结果**:
   - ✅ 背景从浅灰色切换到深灰色（或反向）
   - ✅ 所有卡片颜色随之改变
   - ✅ 刷新页面后主题保持

### Step 4: 测试导航

1. 点击左侧菜单的各个选项:
   - 📄 我的文档
   - 💬 AI对话
   - ✨ 灵感生成
2. **预期结果**:
   - ✅ 页面切换流畅
   - ✅ URL地址栏正确更新
   - ✅ 侧边栏高亮当前激活项

### Step 5: 测试AI功能（需要API Key）

#### 准备工作
1. 获取OpenAI API Key: https://platform.openai.com/api-keys
2. 或使用其他兼容的AI服务

#### AI对话测试
1. 进入 "AI对话" 页面
2. 填写配置:
   - API Key: 您的密钥
   - Provider: openai
   - Model: gpt-3.5-turbo
3. 输入消息: "帮我写一段产品介绍"
4. **预期结果**:
   - ✅ AI返回生成的文本
   - ✅ 对话记录保存

#### 灵感生成测试
1. 进入 "灵感生成" 页面
2. 输入关键词: "春天郊游"
3. 填写API配置
4. 点击"生成灵感"
5. **预期结果**:
   - ✅ 返回3-5条创意建议

---

## 🐛 常见问题排查

### 问题1: 后端启动失败 - 数据库连接错误

**错误信息**: `Communications link failure`

**解决方案**:
```bash
# 检查MySQL是否运行
mysql -u root -p

# 修改配置文件（如需要）
# 编辑 src/main/resources/application.yml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/strove_db
    username: root
    password: 你的密码
```

### 问题2: 前端请求404错误

**错误信息**: `GET http://localhost:8123/api/api/auth/login 404`

**解决方案**:
```bash
# 已修复！检查 frontend/.env.development
# 确保是:
VITE_API_BASE_URL=http://localhost:8123

# 而不是:
VITE_API_BASE_URL=http://localhost:8123/api
```

### 问题3: CORS跨域错误

**错误信息**: `Access to XMLHttpRequest blocked by CORS policy`

**解决方案**:
- 后端已配置 `@CrossOrigin(origins = "*")`
- 确保后端服务正在运行
- 清除浏览器缓存后重试

### 问题4: JWT Token过期

**错误信息**: 自动跳转到登录页

**说明**:
- Token有效期：24小时
- 不是错误，是正常的安全机制
- 重新登录即可

### 问题5: 前端构建失败

**错误信息**: `Module not found` 或类型错误

**解决方案**:
```bash
cd frontend
rm -rf node_modules package-lock.json
npm install
npm run dev
```

---

## 📱 访问地址

| 服务 | 地址 | 说明 |
|------|------|------|
| 前端应用 | http://localhost:5173 | Vue.js开发服务器 |
| 后端API | http://localhost:8123 | Spring Boot服务 |
| 健康检查 | http://localhost:8123/api/health | 验证后端状态 |
| 数据库 | localhost:3306 | MySQL服务 |

---

## 🎨 UI特性说明

### Neumorphism设计
- **浅色模式**: 柔和的灰蓝色背景，带3D浮雕效果
- **深色模式**: 深灰色背景，保持立体感
- **交互反馈**: 
  - Hover: 卡片上浮
  - Active: 按下效果（内嵌阴影）
  - Smooth: 0.3s流畅过渡动画

### 响应式布局
- ✅ 桌面端: 完整侧边栏 + 主内容区
- ⚠️ 移动端: 需要进一步适配（当前为MVP版本）

---

## 🔐 安全提示

### 开发环境
- ✅ CORS允许所有源（开发方便）
- ✅ JWT Secret使用默认值（可以）

### 生产环境部署前必须修改
```yaml
# application.yml
app:
  security:
    jwt:
      secret: 请修改为至少32位随机字符串
  frontend:
    url: https://yourdomain.com
```

```java
// 或使用环境变量
export JWT_SECRET="your-ultra-secure-secret-key-here"
export FRONTEND_URL="https://yourdomain.com"
```

---

## 📚 相关文档

- [前后端对接问题分析报告](./前后端对接问题分析报告.md) - 详细技术分析
- [BACKEND_API.md](./BACKEND_API.md) - 完整API文档
- [开发指南.md](./开发指南.md) - 开发规范

---

## ✨ 后续优化建议

### P0 - 立即完成（已完成）
- [x] 修复API路径配置
- [x] 实现Neumorphism UI设计
- [x] 添加主题切换功能

### P1 - 近期优化
- [ ] 添加请求loading状态
- [ ] 完善错误提示信息
- [ ] 添加表单验证提示动画
- [ ] 实现响应式移动端适配

### P2 - 长期规划
- [ ] 支持多种AI服务商
- [ ] 文档导出功能
- [ ] 使用统计面板
- [ ] 团队协作功能

---

**祝您使用愉快！** 🎉

如有问题，请查看 `前后端对接问题分析报告.md` 或提交Issue。
